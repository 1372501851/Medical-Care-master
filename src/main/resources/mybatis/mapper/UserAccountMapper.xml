<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ruoyi.project.user.mapper.UserAccountMapper">

    <resultMap type="UserAccount" id="UserAccountResult">
        <result property="id"    column="id"    />
        <result property="userId"    column="user_id"    />
        <result property="cash"    column="cash"    />
        <result property="life"    column="life"    />
        <result property="health"    column="health"    />
        <result property="cardCoupon"    column="card_coupon"    />
        <result property="discountCoupon"    column="discount_coupon"    />
    </resultMap>

    <sql id="selectUserAccountVo">
        select id, user_id, cash, life, health, card_coupon, discount_coupon from user_account
    </sql>

    <select id="selectUserAccountList" parameterType="UserAccount" resultMap="UserAccountResult">
        <include refid="selectUserAccountVo"/>
        <where>
            <if test="userId != null  and userId != ''"> and user_id = #{userId}</if>
            <if test="cash != null "> and cash = #{cash}</if>
            <if test="life != null "> and life = #{life}</if>
            <if test="health != null "> and health = #{health}</if>
            <if test="cardCoupon != null "> and card_coupon = #{cardCoupon}</if>
            <if test="discountCoupon != null  and discountCoupon != ''"> and discount_coupon = #{discountCoupon}</if>
        </where>
    </select>

    <select id="selectUserAccountById" parameterType="String" resultMap="UserAccountResult">
        <include refid="selectUserAccountVo"/>
        where id = #{id}
    </select>
    <select id="selectUserAccountByUserId" resultMap="UserAccountResult">

        <include refid="selectUserAccountVo"/>
        where user_id = #{userid}

    </select>

    <insert id="insertUserAccount" parameterType="UserAccount">
        insert into user_account
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="id != null">id,</if>
            <if test="userId != null">user_id,</if>
            <if test="cash != null">cash,</if>
            <if test="life != null">life,</if>
            <if test="health != null">health,</if>
            <if test="cardCoupon != null">card_coupon,</if>
            <if test="discountCoupon != null">discount_coupon,</if>
         </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="id != null">#{id},</if>
            <if test="userId != null">#{userId},</if>
            <if test="cash != null">#{cash},</if>
            <if test="life != null">#{life},</if>
            <if test="health != null">#{health},</if>
            <if test="cardCoupon != null">#{cardCoupon},</if>
            <if test="discountCoupon != null">#{discountCoupon},</if>
         </trim>
    </insert>

    <update id="updateUserAccount" parameterType="UserAccount">
        update user_account
        <trim prefix="SET" suffixOverrides=",">
            <if test="userId != null">user_id = #{userId},</if>
            <if test="cash != null">cash = #{cash},</if>
            <if test="life != null">life = #{life},</if>
            <if test="health != null">health = #{health},</if>
            <if test="cardCoupon != null">card_coupon = #{cardCoupon},</if>
            <if test="discountCoupon != null">discount_coupon = #{discountCoupon},</if>
        </trim>
        where id = #{id}
    </update>

    <delete id="deleteUserAccountById" parameterType="String">
        delete from user_account where id = #{id}
    </delete>

    <delete id="deleteUserAccountByIds" parameterType="String">
        delete from user_account where id in
        <foreach item="id" collection="array" open="(" separator="," close=")">
            #{id}
        </foreach>
    </delete>
</mapper>
